

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dashboard &mdash; mpire 2.9.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Troubleshooting" href="../troubleshooting.html" />
    <link rel="prev" title="Apply family" href="apply.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> mpire
          

          
          </a>

          
            
            
              <div class="version">
                2.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to the MPIRE documentation!</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="workerpool/index.html">WorkerPool</a></li>
<li class="toctree-l2"><a class="reference internal" href="map/index.html">Map family</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html">Apply family</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dashboard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribution guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mpire</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Usage</a> &raquo;</li>
        
      <li>Dashboard</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usage/dashboard.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="dashboard">
<span id="id1"></span><h1>Dashboard<a class="headerlink" href="#dashboard" title="Permalink to this headline">¶</a></h1>
<p>The dashboard allows you to see progress information from a browser. This is convenient when running scripts in a
notebook or screen, if you want to share the progress information with others, or if you want to get real-time worker
insight information.</p>
<p>The dashboard dependencies are not installed by default. See <a class="reference internal" href="../install.html#dashboarddep"><span class="std std-ref">Dashboard</span></a> for more information.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#starting-the-dashboard" id="id2">Starting the dashboard</a></p></li>
<li><p><a class="reference internal" href="#connecting-to-an-existing-dashboard" id="id3">Connecting to an existing dashboard</a></p></li>
<li><p><a class="reference internal" href="#using-the-dashboard" id="id4">Using the dashboard</a></p></li>
</ul>
</div>
<section id="starting-the-dashboard">
<h2><a class="toc-backref" href="#id2">Starting the dashboard</a><a class="headerlink" href="#starting-the-dashboard" title="Permalink to this headline">¶</a></h2>
<p>You can start the dashboard programmatically:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpire.dashboard</span> <span class="kn">import</span> <span class="n">start_dashboard</span>

<span class="c1"># Will return a dictionary with dashboard details</span>
<span class="n">dashboard_details</span> <span class="o">=</span> <span class="n">start_dashboard</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dashboard_details</span><span class="p">)</span>
</pre></div>
</div>
<p>which will print:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;dashboard_port_nr&#39;</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
 <span class="s1">&#39;manager_host&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
 <span class="s1">&#39;manager_port_nr&#39;</span><span class="p">:</span> <span class="mi">8081</span><span class="p">}</span>
</pre></div>
</div>
<p>This will start a dashboard on your local machine on port 8080. When the port is already in use MPIRE will try the next,
until it finds an unused one. In the rare case that no ports are available up to port 8099 the function will raise an
<code class="docutils literal notranslate"><span class="pre">OSError</span></code>. By default, MPIRE tries ports 8080-8100. You can override this range by passing on a custom range object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dashboard_details</span> <span class="o">=</span> <span class="n">start_dashboard</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9000</span><span class="p">,</span> <span class="mi">9100</span><span class="p">))</span>
</pre></div>
</div>
<p>The returned dictionary contains the port number that is ultimately chosen. It also contains information on how to
connect to this dashboard remotely.</p>
<p>Another way of starting a dashboard is by using the bash script (this doesn’t work on Windows!):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mpire-dashboard
</pre></div>
</div>
<p>This will start a dashboard with the connection details printed on screen. It will say something like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Starting<span class="w"> </span>MPIRE<span class="w"> </span>dashboard...

MPIRE<span class="w"> </span>dashboard<span class="w"> </span>started<span class="w"> </span>on<span class="w"> </span>http://localhost:8080
Server<span class="w"> </span>is<span class="w"> </span>listening<span class="w"> </span>on<span class="w"> </span>localhost:8098
--------------------------------------------------
</pre></div>
</div>
<p>The server part corresponds to the <code class="docutils literal notranslate"><span class="pre">manager_host</span></code> and <code class="docutils literal notranslate"><span class="pre">manager_port_nr</span></code> from the dictionary returned by
<a class="reference internal" href="../reference/index.html#mpire.dashboard.start_dashboard" title="mpire.dashboard.start_dashboard"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mpire.dashboard.start_dashboard()</span></code></a>. Similarly to earlier, a custom port range can be provided:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mpire-dashboard<span class="w"> </span>--port-range<span class="w"> </span><span class="m">9000</span>-9100
</pre></div>
</div>
<p>The benefit of starting a dashboard this way is that your dashboard keeps running in case of errors in your script. You
will be able to see what the error was, when it occurred and where it occurred in your code.</p>
</section>
<section id="connecting-to-an-existing-dashboard">
<h2><a class="toc-backref" href="#id3">Connecting to an existing dashboard</a><a class="headerlink" href="#connecting-to-an-existing-dashboard" title="Permalink to this headline">¶</a></h2>
<p>If you have started a dashboard elsewhere, you can connect to it using:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpire.dashboard</span> <span class="kn">import</span> <span class="n">connect_to_dashboard</span>

<span class="n">connect_to_dashboard</span><span class="p">(</span><span class="n">manager_port_nr</span><span class="o">=</span><span class="mi">8081</span><span class="p">,</span> <span class="n">manager_host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Make sure you use the <code class="docutils literal notranslate"><span class="pre">manager_port_nr</span></code>, not the <code class="docutils literal notranslate"><span class="pre">dashboard_port_nr</span></code> in the examples above.</p>
<p>You can connect to an existing dashboard on the same, but also on a remote machine (if the ports are open). If
<code class="docutils literal notranslate"><span class="pre">manager_host</span></code> is omitted it will fall back to using <code class="docutils literal notranslate"><span class="pre">'localhost'</span></code>.</p>
</section>
<section id="using-the-dashboard">
<h2><a class="toc-backref" href="#id4">Using the dashboard</a><a class="headerlink" href="#using-the-dashboard" title="Permalink to this headline">¶</a></h2>
<p>Once connected to a dashboard you don’t need to change anything to your code. When you have enabled the use of
a progress bar in your <code class="docutils literal notranslate"><span class="pre">map</span></code> call the progress bar will automatically register itself to the dashboard server and show
up, like here:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpire</span> <span class="kn">import</span> <span class="n">WorkerPool</span>
<span class="kn">from</span> <span class="nn">mpire.dashboard</span> <span class="kn">import</span> <span class="n">connect_to_dashboard</span>

<span class="n">connect_to_dashboard</span><span class="p">(</span><span class="mi">8099</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">time</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># To be able to show progress</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="k">with</span> <span class="n">WorkerPool</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">pool</span><span class="p">:</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">),</span> <span class="n">progress_bar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This will show something like:</p>
<a class=""
               data-lightbox="group-5d5f4a3a-c9bc-4f02-850a-f572659fc23c"
               href="../_images/mpire_dashboard1.png"
               title="MPIRE dashboard"
               data-title="MPIRE dashboard"
               ><img src="../_images/mpire_dashboard1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>You can click on a progress bar row to view details about the function that is called (which has already been done in
the screenshot above).</p>
<p>It will let you know when a <code class="docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code> signal was send to the running process:</p>
<a class=""
               data-lightbox="group-89acd216-66d7-4c14-b34f-144bb636361b"
               href="../_images/mpire_dashboard_keyboard_interrupt1.png"
               title="MPIRE dashboard - KeyboardInterrupt has been raised"
               data-title="MPIRE dashboard - KeyboardInterrupt has been raised"
               ><img src="../_images/mpire_dashboard_keyboard_interrupt1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>or show the traceback information in case of an exception:</p>
<a class=""
               data-lightbox="group-06490726-4933-45ad-8ad0-0366762b5ce4"
               href="../_images/mpire_dashboard_error1.png"
               title="MPIRE dashboard - Error traceback"
               data-title="MPIRE dashboard - Error traceback"
               ><img src="../_images/mpire_dashboard_error1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>In case you have enabled <a class="reference internal" href="workerpool/worker_insights.html#worker-insights"><span class="std std-ref">Worker insights</span></a> these insights will be shown real-time in the dashboard:</p>
<a class=""
               data-lightbox="group-d903308c-c7de-4812-86b5-a339639c43e4"
               href="../_images/mpire_dashboard_insights1.png"
               title="MPIRE dashboard - Worker insights"
               data-title="MPIRE dashboard - Worker insights"
               ><img src="../_images/mpire_dashboard_insights1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>Click on the <code class="docutils literal notranslate"><span class="pre">Insights</span> <span class="pre">(click</span> <span class="pre">to</span> <span class="pre">expand/collapse)</span></code> to either expand or collapse the insight details.</p>
<p>The dashboard will refresh automatically every 0.5 seconds.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apply.html" class="btn btn-neutral float-left" title="Apply family" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2024, Sybren Jansen

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: v2.9.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../v1.1.2/usage/dashboard.html">v1.1.2</a></dd>
            <dd><a href="../../v1.1.3/usage/dashboard.html">v1.1.3</a></dd>
            <dd><a href="../../v1.2.0/usage/dashboard.html">v1.2.0</a></dd>
            <dd><a href="../../v1.2.1/usage/dashboard.html">v1.2.1</a></dd>
            <dd><a href="../../v1.2.2/usage/dashboard.html">v1.2.2</a></dd>
            <dd><a href="../../v2.0.0/usage/dashboard.html">v2.0.0</a></dd>
            <dd><a href="../../v2.1.0/usage/dashboard.html">v2.1.0</a></dd>
            <dd><a href="../../v2.1.1/usage/dashboard.html">v2.1.1</a></dd>
            <dd><a href="../../v2.2.0/usage/dashboard.html">v2.2.0</a></dd>
            <dd><a href="../../v2.2.1/usage/dashboard.html">v2.2.1</a></dd>
            <dd><a href="../../v2.3.0/usage/dashboard.html">v2.3.0</a></dd>
            <dd><a href="../../v2.3.1/usage/dashboard.html">v2.3.1</a></dd>
            <dd><a href="../../v2.3.2/usage/dashboard.html">v2.3.2</a></dd>
            <dd><a href="../../v2.3.3/usage/dashboard.html">v2.3.3</a></dd>
            <dd><a href="../../v2.3.4/usage/dashboard.html">v2.3.4</a></dd>
            <dd><a href="../../v2.3.5/usage/dashboard.html">v2.3.5</a></dd>
            <dd><a href="../../v2.4.0/usage/dashboard.html">v2.4.0</a></dd>
            <dd><a href="../../v2.5.0/usage/dashboard.html">v2.5.0</a></dd>
            <dd><a href="../../v2.6.0/usage/dashboard.html">v2.6.0</a></dd>
            <dd><a href="../../v2.7.0/usage/dashboard.html">v2.7.0</a></dd>
            <dd><a href="../../v2.7.1/usage/dashboard.html">v2.7.1</a></dd>
            <dd><a href="../../v2.8.0/usage/dashboard.html">v2.8.0</a></dd>
            <dd><a href="../../v2.8.1/usage/dashboard.html">v2.8.1</a></dd>
            <dd><a href="dashboard.html">v2.9.0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../dashboard-only-progress/usage/dashboard.html">dashboard-only-progress</a></dd>
            <dd><a href="../../exclude_tests_from_dists/usage/dashboard.html">exclude_tests_from_dists</a></dd>
            <dd><a href="../../master/usage/dashboard.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>